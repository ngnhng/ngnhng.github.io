<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Notes on Equality Comparison in Java — Nhat-Nguyen</title>
    <meta
      name="description"
      content="Personal notes on Java equality, covering primitives, references, and the difference between == and equals()."
    />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://ngnhng.github.io/notes/software/java/equality/" />
    <meta property="og:title" content="Notes on Equality Comparison in Java — Nhat-Nguyen" />
    <meta
      property="og:description"
      content="Personal notes on Java equality, covering primitives, references, and the difference between == and equals()."
    />
    <meta property="og:image" content="https://ngnhng.github.io/og-placeholder.jpg" />
    <meta property="og:site_name" content="Nhat-Nguyen" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Literata:opsz,wght@7..72,400;7..72,500;7..72,600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="site-header__row">
        <p class="site-title">
          <a href="/" target="_blank" rel="noopener noreferrer">Nhat-Nguyen</a>
        </p>
        <button
          class="theme-toggle"
          type="button"
          aria-pressed="false"
          aria-label="Switch to light mode"
        >
          <span class="theme-toggle__label">Light</span>
        </button>
      </div>
      <p class="site-tagline">Notes on building calm systems.</p>
      <p class="site-links">
        <a href="https://www.linkedin.com/in/ngnhng1" target="_blank" rel="noopener noreferrer"
          >LinkedIn</a
        >
        ·
        <a href="https://github.com/ngnhng" target="_blank" rel="noopener noreferrer">GitHub</a>
      </p>
    </header>

    <main class="content">
      <article class="post">
        <h1 id="notes-on-equality-comparison-in-java">Notes on Equality Comparison in Java</h1>

        <blockquote class="callout callout--note">
          <div class="callout__title">
            <span class="callout__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                <circle
                  cx="12"
                  cy="12"
                  r="9"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.8"
                />
                <path
                  d="M12 10v6"
                  fill="none"
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-width="1.8"
                />
                <circle cx="12" cy="7" r="1.3" fill="currentColor" />
              </svg>
            </span>
            <span>Note</span>
          </div>
          <div class="callout__body">
            <p>
              This is my personal notes which I made while studying Java, so the content below
              should not be taken seriously as technical reference.
            </p>
          </div>
        </blockquote>

        <h2 id="the-context">
          The Context
          <a class="heading-anchor" href="#the-context" aria-label="Link to The Context">#</a>
        </h2>
        <p>
          In Java, we have two methods for equality assertion of values: <code>equals()</code> and
          the operand <code>==</code>.
        </p>
        <ul>
          <li>
            <code>equals()</code> exists since the
            <a href="/notes/software/java/jdk-jre-jvm" target="_blank" rel="noopener noreferrer"
              >JDK</a
            >
            1.0
            <sup
              ><a
                href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)"
                target="_blank"
                rel="noopener noreferrer"
                >1</a
              ></sup
            >
            as a public method of the class <code>Object</code>.
          </li>
          <li>
            The <code>==</code> operand is common in most high-level programming languages and in
            Java, it is in the category of Equality &amp; Relational Operator
            <sup
              ><a
                href="https://dev.java/learn/language-basics/all-operators/"
                target="_blank"
                rel="noopener noreferrer"
                >2</a
              ></sup
            >
          </li>
        </ul>
        <p>
          So what's the difference between using <code>==</code> and <code>equals()</code> in Java?
          Turns out there's a lot.
        </p>

        <h2 id="the-mechanics">
          The Mechanics
          <a class="heading-anchor" href="#the-mechanics" aria-label="Link to The Mechanics">#</a>
        </h2>
        <p>
          To understand how primitive values and objects are being asserted for equality in Java, I
          think we must first <em>roughly</em> understand how values and objects in Java are managed
          memory-wise.
        </p>
        <p>
          It is known that Java is a <em>statically</em> and <em>strongly typed</em> language. The
          terms <em>statically typed</em> and <em>strongly typed</em> is further explain in the
          <a
            href="https://docs.oracle.com/javase/specs/jls/se25/html/jls-4.html"
            target="_blank"
            rel="noopener noreferrer"
            >Java Spec</a
          >.
        </p>

        <h3 id="java-type-system">
          Java Type System
          <a class="heading-anchor" href="#java-type-system" aria-label="Link to Java Type System"
            >#</a
          >
        </h3>
        <p>
          In Java, everything is an object, except for primitive values. In other words, there are
          two kinds of types in Java: Primitive types and Reference types
          <sup
            ><a
              href="https://docs.oracle.com/javase/specs/jls/se25/html/jls-4.html"
              target="_blank"
              rel="noopener noreferrer"
              >3</a
            ></sup
          >.
        </p>
        <p>
          From the spec, it is clear that a primitive value such as an integer <code>5</code> is
          simply represented as <code>...000101</code> bits in memory, there is no object header, no
          class pointer, no garbage collection markings, and no memory overhead. It is literally
          just 32 slots of electricity (bits) representing the number 5.
        </p>
        <p>
          Meanwhile, the reference type (class, array, interface, String, etc.) values are really
          just address lines pointing to somewhere in the heap space, hence the name reference.
        </p>
        <p>
          Most simply, reference type values are values that the JVM can use to find the actual
          object during runtime.
        </p>
        <p>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            style="background: var(--base00); color: var(--base05)"
            viewBox="0 0 441 171"
          >
            <defs>
              <style>
                @import url(https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500);
              </style>
            </defs>
            <rect fill="var(--base00)" width="100%" height="100%" />
            <g data-cell-id="0">
              <g data-cell-id="1">
                <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-1">
                  <path
                    fill="var(--base00)"
                    pointer-events="all"
                    transform="translate(.5 .5)"
                    d="M0 0h230v30H0z"
                  />
                  <switch>
                    <foreignObject
                      style="overflow: visible; text-align: left"
                      pointer-events="none"
                      width="100%"
                      height="100%"
                      requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                    >
                      <div
                        xmlns="http://www.w3.org/1999/xhtml"
                        style="
                          display: flex;
                          align-items: unsafe center;
                          justify-content: unsafe flex-start;
                          width: 228px;
                          height: 1px;
                          padding-top: 15px;
                          margin-left: 2px;
                        "
                      >
                        <div
                          style="
                            box-sizing: border-box;
                            font-size: 0;
                            text-align: left;
                            color: currentColor;
                          "
                        >
                          <div
                            style="
                              display: inline-block;
                              font-size: 12px;
                              font-family: &quot;JetBrains Mono&quot;;
                              color: currentColor;
                              line-height: 1.2;
                              pointer-events: all;
                              white-space: normal;
                              word-wrap: normal;
                            "
                          >
                            Person p = new Person();
                          </div>
                        </div>
                      </div>
                    </foreignObject>
                    <text
                      x="2"
                      y="19"
                      fill="currentColor"
                      font-family="'JetBrains Mono'"
                      font-size="12"
                    >
                      Person p = new Person();
                    </text>
                  </switch>
                </g>
                <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-2">
                  <path
                    fill="var(--base00)"
                    stroke="currentColor"
                    stroke-dasharray="3 3"
                    pointer-events="all"
                    transform="translate(.5 .5)"
                    d="M0 50h160v120H0z"
                  />
                  <switch>
                    <foreignObject
                      style="overflow: visible; text-align: left"
                      pointer-events="none"
                      width="100%"
                      height="100%"
                      requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                    >
                      <div
                        xmlns="http://www.w3.org/1999/xhtml"
                        style="
                          display: flex;
                          align-items: unsafe flex-start;
                          justify-content: unsafe center;
                          width: 158px;
                          height: 1px;
                          padding-top: 57px;
                          margin-left: 1px;
                        "
                      >
                        <div
                          style="
                            box-sizing: border-box;
                            font-size: 0;
                            text-align: center;
                            color: currentColor;
                          "
                        >
                          <div
                            style="
                              display: inline-block;
                              font-size: 12px;
                              font-family: &quot;JetBrains Mono&quot;;
                              color: currentColor;
                              line-height: 1.2;
                              pointer-events: all;
                              white-space: normal;
                              word-wrap: normal;
                            "
                          >
                            <i> Stack (main frame) </i>
                          </div>
                        </div>
                      </div>
                    </foreignObject>
                    <text
                      x="80"
                      y="69"
                      fill="currentColor"
                      font-family="'JetBrains Mono'"
                      font-size="12"
                      text-anchor="middle"
                    >
                      Stack (main frame)
                    </text>
                  </switch>
                </g>
                <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-3">
                  <path
                    fill="var(--base00)"
                    stroke="currentColor"
                    stroke-dasharray="3 3"
                    pointer-events="all"
                    transform="translate(.5 .5)"
                    d="M200 50h240v120H200z"
                  />
                  <switch>
                    <foreignObject
                      style="overflow: visible; text-align: left"
                      pointer-events="none"
                      width="100%"
                      height="100%"
                      requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                    >
                      <div
                        xmlns="http://www.w3.org/1999/xhtml"
                        style="
                          display: flex;
                          align-items: unsafe flex-start;
                          justify-content: unsafe center;
                          width: 238px;
                          height: 1px;
                          padding-top: 57px;
                          margin-left: 201px;
                        "
                      >
                        <div
                          style="
                            box-sizing: border-box;
                            font-size: 0;
                            text-align: center;
                            color: currentColor;
                          "
                        >
                          <div
                            style="
                              display: inline-block;
                              font-size: 12px;
                              font-family: &quot;JetBrains Mono&quot;;
                              color: currentColor;
                              line-height: 1.2;
                              pointer-events: all;
                              white-space: normal;
                              word-wrap: normal;
                            "
                          >
                            <i>
                              Heap
                              <br />
                            </i>
                            <br />
                            <div style="text-align: left">
                              <br />
                            </div>
                          </div>
                        </div>
                      </div>
                    </foreignObject>
                    <text
                      x="320"
                      y="69"
                      fill="currentColor"
                      font-family="'JetBrains Mono'"
                      font-size="12"
                      text-anchor="middle"
                    >
                      Heap...
                    </text>
                  </switch>
                </g>
                <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-4">
                  <path
                    fill="var(--base00)"
                    stroke="currentColor"
                    pointer-events="all"
                    transform="translate(.5 .5)"
                    d="M230 90h180v60H230z"
                  />
                  <switch>
                    <foreignObject
                      style="overflow: visible; text-align: left"
                      pointer-events="none"
                      width="100%"
                      height="100%"
                      requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                    >
                      <div
                        xmlns="http://www.w3.org/1999/xhtml"
                        style="
                          display: flex;
                          align-items: unsafe center;
                          justify-content: unsafe flex-start;
                          width: 178px;
                          height: 1px;
                          padding-top: 120px;
                          margin-left: 232px;
                        "
                      >
                        <div
                          style="
                            box-sizing: border-box;
                            font-size: 0;
                            text-align: left;
                            color: currentColor;
                          "
                        >
                          <div
                            style="
                              display: inline-block;
                              font-size: 12px;
                              font-family: &quot;JetBrains Mono&quot;;
                              color: currentColor;
                              line-height: 1.2;
                              pointer-events: all;
                              white-space: normal;
                              word-wrap: normal;
                            "
                          >
                            Person object @0xA1B2
                            <br />
                            [JVM header/metadata]
                            <br />
                            name = null
                            <br />
                            age = 0
                          </div>
                        </div>
                      </div>
                    </foreignObject>
                    <text
                      x="232"
                      y="124"
                      fill="currentColor"
                      font-family="'JetBrains Mono'"
                      font-size="12"
                    >
                      Person object @0xA1B2...
                    </text>
                  </switch>
                </g>
                <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-5">
                  <path
                    fill="var(--base00)"
                    stroke="currentColor"
                    pointer-events="all"
                    transform="translate(.5 .5)"
                    d="M20 100h120v40H20z"
                  />
                  <switch>
                    <foreignObject
                      style="overflow: visible; text-align: left"
                      pointer-events="none"
                      width="100%"
                      height="100%"
                      requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                    >
                      <div
                        xmlns="http://www.w3.org/1999/xhtml"
                        style="
                          display: flex;
                          align-items: unsafe center;
                          justify-content: unsafe flex-start;
                          width: 118px;
                          height: 1px;
                          padding-top: 120px;
                          margin-left: 22px;
                        "
                      >
                        <div
                          style="
                            box-sizing: border-box;
                            font-size: 0;
                            text-align: left;
                            color: currentColor;
                          "
                        >
                          <div
                            style="
                              display: inline-block;
                              font-size: 12px;
                              font-family: &quot;JetBrains Mono&quot;;
                              color: currentColor;
                              line-height: 1.2;
                              pointer-events: all;
                              white-space: normal;
                              word-wrap: normal;
                            "
                          >
                            p: Person
                            <br />
                            <div>
                              <span style="background-color: transparent; color: currentColor">
                                value = 0xA1B2
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </foreignObject>
                    <text
                      x="22"
                      y="124"
                      fill="currentColor"
                      font-family="'JetBrains Mono'"
                      font-size="12"
                    >
                      p: Person...
                    </text>
                  </switch>
                </g>
                <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-6">
                  <path
                    d="m132 127 91.65-6.55"
                    fill="none"
                    stroke="currentColor"
                    stroke-miterlimit="10"
                    pointer-events="stroke"
                    transform="translate(.5 .5)"
                  />
                  <path
                    d="m228.88 120.08-6.81 2.83 1.58-2.46-1.91-2.2Z"
                    stroke="currentColor"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    fill="currentColor"
                    transform="translate(.5 .5)"
                  />
                </g>
                <g data-cell-id="fTPNu795Q7Ba855nVZtG-1">
                  <path
                    fill="none"
                    pointer-events="all"
                    d="m105.058 132.51 155.884-90 15 25.98-155.884 90z"
                  />
                  <switch transform="rotate(-30 190 100)" opacity=".5">
                    <foreignObject
                      style="overflow: visible; text-align: left"
                      pointer-events="none"
                      width="100%"
                      height="100%"
                      requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                    >
                      <div
                        xmlns="http://www.w3.org/1999/xhtml"
                        style="
                          display: flex;
                          align-items: unsafe center;
                          justify-content: unsafe center;
                          width: 178px;
                          height: 1px;
                          padding-top: 100px;
                          margin-left: 101px;
                        "
                      >
                        <div
                          style="
                            box-sizing: border-box;
                            font-size: 0;
                            text-align: center;
                            color: currentColor;
                          "
                        >
                          <div
                            style="
                              display: inline-block;
                              font-size: 12px;
                              font-family: Helvetica;
                              color: currentColor;
                              line-height: 1.2;
                              pointer-events: all;
                              white-space: normal;
                              word-wrap: normal;
                            "
                          >
                            ngnhng.github.io
                          </div>
                        </div>
                      </div>
                    </foreignObject>
                    <text
                      x="190"
                      y="104"
                      fill="currentColor"
                      font-family="Helvetica"
                      font-size="12"
                      text-anchor="middle"
                    >
                      ngnhng.github.io
                    </text>
                  </switch>
                </g>
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-2" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-3" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-4" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-5" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-6" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-8" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-10" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-12" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-13" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-15" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-16" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-17" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-18" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-19" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-20" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-21" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-22" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-23" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-24" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-25" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-26" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-7" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-27" />
                <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-28" />
                <g data-cell-id="px7SnIMkkuJ-scLYALrx-13" />
                <g data-cell-id="px7SnIMkkuJ-scLYALrx-14" />
                <g data-cell-id="px7SnIMkkuJ-scLYALrx-15" />
                <g data-cell-id="px7SnIMkkuJ-scLYALrx-16" />
                <g data-cell-id="px7SnIMkkuJ-scLYALrx-17" />
                <g data-cell-id="px7SnIMkkuJ-scLYALrx-19" />
                <g data-cell-id="px7SnIMkkuJ-scLYALrx-20" />
                <g data-cell-id="px7SnIMkkuJ-scLYALrx-21" />
                <g data-cell-id="px7SnIMkkuJ-scLYALrx-23" />
                <g data-cell-id="px7SnIMkkuJ-scLYALrx-24" />
              </g>
            </g>
          </svg>
        </p>
        <p>
          Less simply, a reference is a bit pattern representing a virtual memory address (a
          pointer) that indicates the starting byte of the <em>JVM Object Header</em> on the Heap.
        </p>
        <p>
          <?xml version="1.0" encoding="UTF-8"?>
          <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            style="background: var(--base00); color: var(--base05)"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            version="1.1"
            viewBox="0 0 397 451"
          >
            <defs>
              <style type="text/css">
                @import url(https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500);
              </style>
            </defs>
            <rect
              fill="var(--base00)"
              width="100%"
              height="100%"
              x="0"
              y="0"
              style="fill: var(--base00)"
            />
            <g>
              <g data-cell-id="0">
                <g data-cell-id="1">
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-1" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-2" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-3" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-4" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-5" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-6" />
                  <g data-cell-id="fTPNu795Q7Ba855nVZtG-1" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-2" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-3" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-4" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-5" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-6" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-8" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-10" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-12" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-13" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-15" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-16" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-17" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-18" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-19" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-20" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-21" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-22" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-23" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-24" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-25" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-26" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-7" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-27" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-28" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-13">
                    <g>
                      <rect
                        x="0"
                        y="0"
                        width="230"
                        height="30"
                        fill="var(--base00)"
                        stroke="none"
                        pointer-events="all"
                        style="fill: var(--base00)"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 228px;
                                height: 1px;
                                padding-top: 15px;
                                margin-left: 2px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    stroke: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  Person p = new Person();
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="2"
                            y="19"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            Person p = new Person();
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-14">
                    <g>
                      <rect
                        x="0"
                        y="50"
                        width="160"
                        height="120"
                        fill="var(--base00)"
                        stroke="currentColor"
                        stroke-dasharray="3 3"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe flex-start;
                                justify-content: unsafe center;
                                width: 158px;
                                height: 1px;
                                padding-top: 57px;
                                margin-left: 1px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    stroke: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  <i> Stack (main frame) </i>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="80"
                            y="69"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            Stack (main frame)
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-15">
                    <g>
                      <rect
                        x="105"
                        y="190"
                        width="290"
                        height="260"
                        fill="var(--base00)"
                        stroke="currentColor"
                        stroke-dasharray="3 3"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe flex-start;
                                justify-content: unsafe center;
                                width: 288px;
                                height: 1px;
                                padding-top: 197px;
                                margin-left: 106px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    stroke: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  <i>
                                    Heap Address Space (Virtual Memory)
                                    <br />
                                  </i>
                                  <br />
                                  <div style="text-align: left">
                                    <br />
                                  </div>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="250"
                            y="209"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            Heap Address Space (Virtual Memory)...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-16">
                    <g>
                      <rect
                        x="115"
                        y="270"
                        width="270"
                        height="140"
                        fill="var(--base00)"
                        stroke="currentColor"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 268px;
                                height: 1px;
                                padding-top: 340px;
                                margin-left: 117px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    stroke: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  [Header: Mark Word (8 bytes)]
                                  <div>
                                    (Locks, HashCode, GC Age bits)
                                    <br />
                                    -------------------------------------
                                    <br />
                                    [Header: Klass Pointer (4 bytes)]
                                  </div>
                                  <div>(Points to Person.class method code)</div>
                                  <div>-------------------------------------</div>
                                  <div>[Data: Field `age` int]</div>
                                  <div>...0000000000000000000.....</div>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="117"
                            y="344"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            [Header: Mark Word (8 bytes)]...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-17">
                    <g>
                      <rect
                        x="20"
                        y="100"
                        width="120"
                        height="40"
                        fill="var(--base00)"
                        stroke="currentColor"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 118px;
                                height: 1px;
                                padding-top: 120px;
                                margin-left: 22px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    stroke: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  p: Person
                                  <br />
                                  <div style="">
                                    <span
                                      style="background-color: transparent; color: currentColor"
                                    >
                                      value = 0xA1B2
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="22"
                            y="124"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            p: Person...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-19">
                    <g>
                      <rect
                        x="155"
                        y="250"
                        width="180"
                        height="30"
                        fill="none"
                        stroke="none"
                        transform="rotate(-30,245,265)"
                        pointer-events="all"
                      />
                    </g>
                    <g>
                      <g transform="rotate(-30 245 265)" opacity="0.5">
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe center;
                                width: 178px;
                                height: 1px;
                                padding-top: 265px;
                                margin-left: 156px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: Helvetica;
                                    stroke: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  ngnhng.github.io
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="245"
                            y="269"
                            fill="var(--base00)"
                            font-family="Helvetica"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            ngnhng.github.io
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-20">
                    <g>
                      <rect
                        x="115"
                        y="240"
                        width="270"
                        height="30"
                        fill="none"
                        stroke="none"
                        pointer-events="all"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 268px;
                                height: 1px;
                                padding-top: 255px;
                                margin-left: 117px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    stroke: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  ...
                                  <br />
                                  Address 0xA1B2 (The exact start)
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="117"
                            y="259"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            ......
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-21" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-23">
                    <g>
                      <rect
                        x="115"
                        y="410"
                        width="120"
                        height="30"
                        fill="none"
                        stroke="none"
                        pointer-events="all"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 118px;
                                height: 1px;
                                padding-top: 425px;
                                margin-left: 117px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    stroke: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  ...
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="117"
                            y="429"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            ...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-24">
                    <g>
                      <path
                        d="M 140 130 L 182.5 130 L 182.5 233.63"
                        fill="none"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        pointer-events="stroke"
                        style="stroke: currentColor"
                      />
                      <path
                        d="M 182.5 238.88 L 179 231.88 L 182.5 233.63 L 186 231.88 Z"
                        fill="#000000"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                  </g>
                </g>
              </g>
            </g>
          </svg>
        </p>

        <blockquote class="callout callout--question">
          <div class="callout__title">
            <span class="callout__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                <circle
                  cx="12"
                  cy="12"
                  r="9"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.8"
                />
                <path
                  d="M9.7 9a2.6 2.6 0 1 1 4.6 1.7c-.95.65-1.4 1.1-1.4 2.3"
                  fill="none"
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.8"
                />
                <circle cx="12" cy="17.2" r="1.1" fill="currentColor" />
              </svg>
            </span>
            <span>Q&amp;A</span>
          </div>
          <div class="callout__body">
            <p><strong>Q:</strong> Is Java's reference a pointer?</p>
            <p><strong>A:</strong> Short answer, no.</p>
            <p>
              There are multiple JVM implementations, hence it is possible that in one
              implementation, GC can move objects (compacting collectors, generational collectors)
              to reduce fragmentation and improve locality. So we can not expect the reference to be
              the same across time.
            </p>
            <p>
              This means Java references are GC-aware and should not be addresses/pointers that the
              programmers can directly control.
            </p>
          </div>
        </blockquote>

        <blockquote class="callout callout--question">
          <div class="callout__title">
            <span class="callout__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                <circle
                  cx="12"
                  cy="12"
                  r="9"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.8"
                />
                <path
                  d="M9.7 9a2.6 2.6 0 1 1 4.6 1.7c-.95.65-1.4 1.1-1.4 2.3"
                  fill="none"
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.8"
                />
                <circle cx="12" cy="17.2" r="1.1" fill="currentColor" />
              </svg>
            </span>
            <span>Q&amp;A</span>
          </div>
          <div class="callout__body">
            <p><strong>Q:</strong> What's in the JVM header/metadata?</p>
            <p>
              <strong>A:</strong> See
              <a href="/notes/software/java/jdk-jre-jvm" target="_blank" rel="noopener noreferrer"
                >JVM</a
              >.
            </p>
          </div>
        </blockquote>

        <h3 id="pass-by-value">
          Pass-by-value
          <a class="heading-anchor" href="#pass-by-value" aria-label="Link to Pass-by-value">#</a>
        </h3>
        <p>
          Now that we've know something about how Java manages its objects, we will now learn about
          how Java is actually pass-by-value and not pass-by-reference.
        </p>
        <ul>
          <li>
            The assumption: When passing an object to a method, we are passing the object itself, or
            rather the direct link to the original one.
          </li>
        </ul>
        <p>
          <?xml version="1.0" encoding="UTF-8"?>
          <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            style="background: var(--base00); color: var(--base05)"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            version="1.1"
            viewBox="0 0 452 361"
          >
            <defs>
              <style type="text/css">
                @import url(https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500);
              </style>
            </defs>
            <rect
              fill="var(--base00)"
              width="100%"
              height="100%"
              x="0"
              y="0"
              style="fill: var(--base00)"
            />
            <g>
              <g data-cell-id="0">
                <g data-cell-id="1">
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-1" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-2" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-3" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-4" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-5" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-6" />
                  <g data-cell-id="fTPNu795Q7Ba855nVZtG-1" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-2">
                    <g transform="translate(0.5,0.5)">
                      <rect
                        x="0"
                        y="0"
                        width="230"
                        height="30"
                        fill="none"
                        stroke="none"
                        pointer-events="all"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 228px;
                                height: 1px;
                                padding-top: 15px;
                                margin-left: 2px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  Person p = new Person();
                                  <div>f(p);</div>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="2"
                            y="19"
                            fill="currentColor"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            Person p = new Person();...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-3">
                    <g transform="translate(0.5,0.5)">
                      <rect
                        x="0"
                        y="50"
                        width="160"
                        height="310"
                        fill="var(--base00)"
                        stroke="currentColor"
                        stroke-dasharray="3 3"
                        pointer-events="all"
                        style="fill: var(--base00)"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe flex-start;
                                justify-content: unsafe center;
                                width: 158px;
                                height: 1px;
                                padding-top: 57px;
                                margin-left: 1px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  <i> Stack </i>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="80"
                            y="69"
                            fill="currentColor"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            Stack
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-4">
                    <g transform="translate(0.5,0.5)">
                      <rect
                        x="210"
                        y="90"
                        width="240"
                        height="230"
                        fill="var(--base00)"
                        stroke="currentColor"
                        stroke-dasharray="3 3"
                        pointer-events="all"
                        style="fill: var(--base00)"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe flex-start;
                                justify-content: unsafe center;
                                width: 238px;
                                height: 1px;
                                padding-top: 97px;
                                margin-left: 211px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  <i>
                                    Heap
                                    <br />
                                  </i>
                                  <br />
                                  <div style="text-align: left">
                                    <br />
                                  </div>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="330"
                            y="109"
                            fill="currentColor"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            Heap...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-5">
                    <g transform="translate(0.5,0.5)">
                      <rect
                        x="240"
                        y="180"
                        width="180"
                        height="60"
                        fill="var(--base00)"
                        stroke="currentColor"
                        pointer-events="all"
                        style="fill: var(--base00)"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 178px;
                                height: 1px;
                                padding-top: 210px;
                                margin-left: 242px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  Person object @0xA1B2
                                  <br />
                                  [JVM header/metadata]
                                  <br />
                                  name = null
                                  <br />
                                  age = 0
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="242"
                            y="214"
                            fill="currentColor"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            Person object @0xA1B2...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-6">
                    <g transform="translate(0.5,0.5)">
                      <rect
                        x="20"
                        y="120"
                        width="120"
                        height="40"
                        fill="var(--base00)"
                        stroke="currentColor"
                        pointer-events="all"
                        style="fill: var(--base00)"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 118px;
                                height: 1px;
                                padding-top: 140px;
                                margin-left: 22px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  parameter
                                  <br />
                                  <div style="">(Is an alias)</div>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="22"
                            y="144"
                            fill="currentColor"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            parameter...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-8">
                    <g transform="translate(0.5,0.5)">
                      <rect
                        x="100"
                        y="190"
                        width="180"
                        height="30"
                        fill="none"
                        stroke="none"
                        transform="rotate(-30,190,205)"
                        pointer-events="all"
                      />
                    </g>
                    <g>
                      <g transform="rotate(-30 189.99999999999977 205)" opacity="0.5">
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe center;
                                width: 178px;
                                height: 1px;
                                padding-top: 205px;
                                margin-left: 101px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: Helvetica;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  ngnhng.github.io
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="190"
                            y="209"
                            fill="currentColor"
                            font-family="Helvetica"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            ngnhng.github.io
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-10">
                    <g transform="translate(0.5,0.5)">
                      <rect
                        x="20"
                        y="100"
                        width="80"
                        height="20"
                        fill="none"
                        stroke="none"
                        pointer-events="all"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe center;
                                width: 78px;
                                height: 1px;
                                padding-top: 110px;
                                margin-left: 21px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  f frame
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="60"
                            y="114"
                            fill="currentColor"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            f frame
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-12">
                    <g transform="translate(0.5,0.5)">
                      <rect
                        x="20"
                        y="265"
                        width="120"
                        height="40"
                        fill="var(--base00)"
                        stroke="currentColor"
                        pointer-events="all"
                        style="fill: var(--base00)"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 118px;
                                height: 1px;
                                padding-top: 285px;
                                margin-left: 22px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  p: Person
                                  <br />
                                  <div style="">
                                    <span
                                      style="background-color: transparent; color: currentColor"
                                    >
                                      value = 0xA1B2
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="22"
                            y="289"
                            fill="currentColor"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            p: Person...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-13">
                    <g transform="translate(0.5,0.5)">
                      <rect
                        x="20"
                        y="245"
                        width="80"
                        height="20"
                        fill="none"
                        stroke="none"
                        pointer-events="all"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe center;
                                width: 78px;
                                height: 1px;
                                padding-top: 255px;
                                margin-left: 21px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  main frame
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="60"
                            y="259"
                            fill="currentColor"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            main frame
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-15">
                    <g transform="translate(0.5,0.5)">
                      <path
                        d="M 0 205 L 160 205"
                        fill="none"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        stroke-dasharray="3 3"
                        pointer-events="stroke"
                        style="stroke: currentColor"
                      />
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-16" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-17" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-18" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-19" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-20" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-21" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-22" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-23" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-24" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-25" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-26" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-7">
                    <g transform="translate(0.5,0.5)">
                      <path
                        d="M 130 290 L 234.41 233.05"
                        fill="none"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        pointer-events="stroke"
                        style="stroke: currentColor"
                      />
                      <path
                        d="M 239.02 230.54 L 233.99 235.94 L 234.41 233.05 L 231.76 231.84 Z"
                        fill="currentColor"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-27">
                    <g transform="translate(0.5,0.5)">
                      <path
                        d="M 105 160 L 105.38 263.63"
                        fill="none"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        pointer-events="stroke"
                        style="stroke: currentColor"
                      />
                      <path
                        d="M 105.4 268.88 L 103.04 261.89 L 105.38 263.63 L 107.7 261.87 Z"
                        fill="currentColor"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-28" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-13" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-14" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-15" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-16" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-17" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-19" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-20" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-21" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-23" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-24" />
                </g>
              </g>
            </g>
          </svg>
        </p>
        <ul>
          <li>
            The reality: Java copies the bits inside the original variable, since <code>p</code>
            holds an address in our example, it is copied to the new method parameter.
          </li>
        </ul>
        <p>
          <?xml version="1.0" encoding="UTF-8"?>
          <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            style="background: var(--base00); color: var(--base05)"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            version="1.1"
            viewBox="0 0 452 361"
          >
            <defs>
              <style type="text/css">
                @import url(https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500);
              </style>
            </defs>
            <rect
              fill="var(--base00)"
              width="100%"
              height="100%"
              x="0"
              y="0"
              style="fill: var(--base00)"
            />
            <g>
              <g data-cell-id="0">
                <g data-cell-id="1">
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-1" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-2" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-3" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-4" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-5" />
                  <g data-cell-id="3N5BuD9OqR8EhbLhhQqN-6" />
                  <g data-cell-id="fTPNu795Q7Ba855nVZtG-1" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-2" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-3" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-4" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-5" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-6" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-8" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-10" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-12" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-13" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-15" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-16">
                    <g>
                      <rect
                        x="0"
                        y="0"
                        width="230"
                        height="30"
                        fill="var(--base00)"
                        stroke="none"
                        pointer-events="all"
                        style="fill: var(--base00)"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 228px;
                                height: 1px;
                                padding-top: 15px;
                                margin-left: 2px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  Person p = new Person();
                                  <div>f(p);</div>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="2"
                            y="19"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            Person p = new Person();...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-17">
                    <g>
                      <rect
                        x="0"
                        y="50"
                        width="160"
                        height="310"
                        fill="var(--base00)"
                        stroke="currentColor"
                        stroke-dasharray="3 3"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe flex-start;
                                justify-content: unsafe center;
                                width: 158px;
                                height: 1px;
                                padding-top: 57px;
                                margin-left: 1px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  <i> Stack </i>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="80"
                            y="69"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            Stack
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-18">
                    <g>
                      <rect
                        x="210"
                        y="90"
                        width="240"
                        height="230"
                        fill="var(--base00)"
                        stroke="currentColor"
                        stroke-dasharray="3 3"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe flex-start;
                                justify-content: unsafe center;
                                width: 238px;
                                height: 1px;
                                padding-top: 97px;
                                margin-left: 211px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  <i>
                                    Heap
                                    <br />
                                  </i>
                                  <br />
                                  <div style="text-align: left">
                                    <br />
                                  </div>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="330"
                            y="109"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            Heap...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-19">
                    <g>
                      <rect
                        x="240"
                        y="180"
                        width="180"
                        height="60"
                        fill="var(--base00)"
                        stroke="currentColor"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 178px;
                                height: 1px;
                                padding-top: 210px;
                                margin-left: 242px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  Person object @0xA1B2
                                  <br />
                                  [JVM header/metadata]
                                  <br />
                                  name = null
                                  <br />
                                  age = 0
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="242"
                            y="214"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            Person object @0xA1B2...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-20">
                    <g>
                      <rect
                        x="20"
                        y="110"
                        width="120"
                        height="60"
                        fill="var(--base00)"
                        stroke="currentColor"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 118px;
                                height: 1px;
                                padding-top: 140px;
                                margin-left: 22px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  p: Person
                                  <br />
                                  <div style="">
                                    <span
                                      style="background-color: transparent; color: currentColor"
                                    >
                                      value = 0xA1B2
                                      <br />
                                      (A copy of the address bits)
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="22"
                            y="144"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            p: Person...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-21">
                    <g>
                      <path
                        d="M 130 140 L 180 140 L 180 220 L 233.63 220"
                        fill="none"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        pointer-events="stroke"
                        style="stroke: currentColor"
                      />
                      <path
                        d="M 238.88 220 L 231.88 222.33 L 233.63 220 L 231.88 217.67 Z"
                        fill="var(--base00)"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-22">
                    <g>
                      <rect
                        x="100"
                        y="190"
                        width="180"
                        height="30"
                        fill="none"
                        stroke="none"
                        transform="rotate(-30,190,205)"
                        pointer-events="all"
                      />
                    </g>
                    <g>
                      <g transform="rotate(-30 190 205)" opacity="0.5">
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe center;
                                width: 178px;
                                height: 1px;
                                padding-top: 205px;
                                margin-left: 101px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: Helvetica;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  ngnhng.github.io
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="190"
                            y="209"
                            fill="var(--base00)"
                            font-family="Helvetica"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            ngnhng.github.io
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-23">
                    <g>
                      <rect
                        x="20"
                        y="90"
                        width="80"
                        height="20"
                        fill="none"
                        stroke="none"
                        pointer-events="all"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe center;
                                width: 78px;
                                height: 1px;
                                padding-top: 100px;
                                margin-left: 21px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  f frame
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="60"
                            y="104"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            f frame
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-24">
                    <g>
                      <rect
                        x="20"
                        y="270"
                        width="120"
                        height="40"
                        fill="var(--base00)"
                        stroke="currentColor"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe flex-start;
                                width: 118px;
                                height: 1px;
                                padding-top: 290px;
                                margin-left: 22px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: left;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  p: Person
                                  <br />
                                  <div style="">
                                    <span
                                      style="background-color: transparent; color: currentColor"
                                    >
                                      value = 0xA1B2
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="22"
                            y="294"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                          >
                            p: Person...
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-25">
                    <g>
                      <rect
                        x="20"
                        y="250"
                        width="80"
                        height="20"
                        fill="none"
                        stroke="none"
                        pointer-events="all"
                      />
                    </g>
                    <g>
                      <g>
                        <switch>
                          <foreignObject
                            style="overflow: visible; text-align: left"
                            pointer-events="none"
                            width="100%"
                            height="100%"
                            requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                          >
                            <div
                              xmlns="http://www.w3.org/1999/xhtml"
                              style="
                                display: flex;
                                align-items: unsafe center;
                                justify-content: unsafe center;
                                width: 78px;
                                height: 1px;
                                padding-top: 260px;
                                margin-left: 21px;
                              "
                            >
                              <div
                                style="
                                  box-sizing: border-box;
                                  font-size: 0;
                                  text-align: center;
                                  color: currentColor;
                                "
                              >
                                <div
                                  style="
                                    display: inline-block;
                                    font-size: 12px;
                                    font-family: &quot;JetBrains Mono&quot;;
                                    color: currentColor;
                                    line-height: 1.2;
                                    pointer-events: all;
                                    white-space: normal;
                                    word-wrap: normal;
                                  "
                                >
                                  main frame
                                </div>
                              </div>
                            </div>
                          </foreignObject>
                          <text
                            x="60"
                            y="264"
                            fill="var(--base00)"
                            font-family="'JetBrains Mono'"
                            font-size="12px"
                            text-anchor="middle"
                          >
                            main frame
                          </text>
                        </switch>
                      </g>
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-26">
                    <g>
                      <path
                        d="M 0 205 L 160 205"
                        fill="none"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        stroke-dasharray="3 3"
                        pointer-events="stroke"
                        style="stroke: currentColor"
                      />
                    </g>
                  </g>
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-7" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-27" />
                  <g data-cell-id="g1kHLxwIz9Rbm4jFRSAC-28">
                    <g>
                      <path
                        d="M 132 290 L 180 290 L 180 220 L 233.63 220"
                        fill="none"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        pointer-events="stroke"
                        style="stroke: currentColor"
                      />
                      <path
                        d="M 238.88 220 L 231.88 222.33 L 233.63 220 L 231.88 217.67 Z"
                        fill="var(--base00)"
                        stroke="currentColor"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        style="fill: var(--base00); stroke: currentColor"
                      />
                    </g>
                  </g>
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-13" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-14" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-15" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-16" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-17" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-19" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-20" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-21" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-23" />
                  <g data-cell-id="px7SnIMkkuJ-scLYALrx-24" />
                </g>
              </g>
            </g>
          </svg>
        </p>
        <p>
          So in short, Java is pass-by-value, and the values passed are reference values for
          reference types.
        </p>

        <h2 id="conclusion-on-equality-comparison">
          Conclusion on Equality Comparison
          <a
            class="heading-anchor"
            href="#conclusion-on-equality-comparison"
            aria-label="Link to Conclusion on Equality Comparison"
            >#</a
          >
        </h2>
        <p>
          Now that we have cleared the concepts on reference in Java, we can finally produce a
          clearer answer on how <code>==</code> and <code>.equals()</code> differ:
        </p>
        <table>
          <thead>
            <tr>
              <th>Operator</th>
              <th>Primitive type</th>
              <th>Reference type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>==</code></td>
              <td>Compares value-by-value</td>
              <td>Compares the reference value (which <em>could</em> be the heap address)</td>
            </tr>
            <tr>
              <td><code>.equals()</code></td>
              <td>Primitive types do not have method</td>
              <td>
                Depending on the specific implementations, for example, the String class's
                implementation compares the underlying content.
                <br />
                An example of a more complex <code>equals()</code> implementation can be seen in the
                HashMap class, which we will discuss in
                <a href="/notes/software/java/hash/" target="_blank" rel="noopener noreferrer"
                  >another note</a
                >.
              </td>
            </tr>
          </tbody>
        </table>

        <h2 id="references">
          References
          <a class="heading-anchor" href="#references" aria-label="Link to References">#</a>
        </h2>
        <ol>
          <li>
            <a
              href="https://docs.oracle.com/javase/specs/index.html"
              target="_blank"
              rel="noopener noreferrer"
              >Java Language Specification</a
            >
          </li>
          <li>
            <a
              href="https://docs.oracle.com/en/java/javase/25/docs/api/index.html"
              target="_blank"
              rel="noopener noreferrer"
              >Java Platform, Standard Edition &amp; Java Development Kit Version 25 API
              Specification</a
            >
          </li>
          <li>
            <a
              href="https://docs.oracle.com/javase/specs/jls/se25/html/jls-4.html"
              target="_blank"
              rel="noopener noreferrer"
              >Java SE Spec, Chapter 4</a
            >
          </li>
        </ol>
      </article>
    </main>

    <footer class="site-footer">
      <p>© <span id="footer-year"></span> Nhat-Nguyen Nguyen. Built with plain HTML and CSS.</p>
    </footer>
    <script>
      const footerYear = document.querySelector("#footer-year");
      const themeToggle = document.querySelector(".theme-toggle");
      const themeLabel = document.querySelector(".theme-toggle__label");

      if (footerYear) {
        footerYear.textContent = new Date().getFullYear();
      }

      const setTheme = (theme) => {
        document.documentElement.setAttribute("data-theme", theme);
        if (themeToggle) {
          const isLight = theme === "light";
          themeToggle.setAttribute("aria-pressed", String(isLight));
          themeToggle.setAttribute("aria-label", `Switch to ${isLight ? "dark" : "light"} mode`);
        }
        if (themeLabel) {
          themeLabel.textContent = theme === "light" ? "Dark" : "Light";
        }
      };

      const storedTheme = localStorage.getItem("theme");
      const prefersLight = window.matchMedia("(prefers-color-scheme: light)").matches;
      const initialTheme = storedTheme || (prefersLight ? "light" : "dark");
      setTheme(initialTheme);

      if (themeToggle) {
        themeToggle.addEventListener("click", () => {
          const currentTheme = document.documentElement.getAttribute("data-theme") || "dark";
          const nextTheme = currentTheme === "light" ? "dark" : "light";
          localStorage.setItem("theme", nextTheme);
          setTheme(nextTheme);
        });
      }
    </script>
  </body>
</html>
